<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Rocket League Rating Calculator</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script>
            function calculate(){
                //setting static weights
                var adjscoreweight = 0.25;
                var goalsweight = 1;
                var assistsweight = 0.75;
                var savesweight = 0.6;
                var shotsweight = 0.4;
                var shotpercentageweight = 0.5;
                
                //storing form data
                var score = parseInt(document.getElementById("score").value);
                var goals = parseInt(document.getElementById("goals").value);
                var assists = parseInt(document.getElementById("assists").value);
                var saves = parseInt(document.getElementById("saves").value);
                var shots = parseInt(document.getElementById("shots").value);
                //var mvp = document.getElementById("mvp").value;
                var overtime = parseInt(document.getElementById("overtime").value);

                //reset accolades values to zero before beginning calculations
                var accolades = 0;
                var mvpscore = 0;
                
                //calculate score gained from accolades
                if (goals == 3){
                    accolades = accolades + 25;
                } else if (goals == 6){
                    accolades = accolades + 50;
                }
                
                if (assists == 3){
                    accolades = accolades + 25;
                } else if (assists == 6){
                    accolades = accolades + 50;
                }
                
                if (saves == 3){
                    accolades = accolades + 25;
                } else if (saves == 6){
                    accolades = accolades + 50;
                }
                
                //if (mvp === TRUE){
               //     mvpscore = 50;
               // }
                
                //calculate total score gained from accolades
                accolades = accolades + (goals * 50) + (assists * 25) + (saves * 25) 
                        + (shots * 15);
                
                //calculate adjusted score
                var adjscore = (score - accolades)/100;
                
                //calculate shooting percentage
                var shotpercentage = (goals / shots);
                
                //setting full matchtime
                var matchtime = 300;
                matchtime = (matchtime + overtime)/60;
                
                //calculate final rating
                var rating = ((adjscore * adjscoreweight) + (goals * goalsweight) + (assists * assistsweight) + 
                        (saves * savesweight) + (shots * shotsweight) + (shotpercentage * shotpercentageweight))*(1/matchtime);
                
                //shorten rating to two decimal places
                var finalrating = rating.toFixed(2);
                
                document.getElementById("finalRating").innerHTML = finalrating; 
    
            }
        </script>
    </head>
    <body>
        <div style="width:300px;margin-left:35%;">
        <form class="form-horizontal">
            <div class="form-group">
              <label for="score" class="col-sm-2 control-label">Score</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="score" placeholder="350">
              </div>
            </div>
            
            <div class="form-group">
              <label for="goals" class="col-sm-2 control-label">Goals</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="goals" placeholder="3">
              </div>
            </div>
            
            <div class="form-group">
              <label for="assists" class="col-sm-2 control-label">Assists</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="assists" placeholder="2">
              </div>
            </div>
            
            <div class="form-group">
              <label for="saves" class="col-sm-2 control-label">Saves</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="saves" placeholder="1">
              </div>
            </div>
            
            <div class="form-group">
              <label for="shots" class="col-sm-2 control-label">Shots</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="shots" placeholder="5">
              </div>
            </div>
            
            <div class="form-group">
              <label for="overtime" class="col-sm-2 control-label">OT (seconds)</label>
              <div class="col-sm-10">
                <input type="text" class="form-control" id="overtime" placeholder="126">
              </div>
            </div>
        <!--
            <div class="form-group">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="mvp">
                    <label class="form-check-label" for="mvp">
                      MVP
                    </label>
                </div>
            </div>
        -->
            <div class="form-group">
              <div class="col-sm-offset-2 col-sm-10">
                <button type="button" class="btn btn-primary" onclick="calculate()">Calculate</button>
              </div>
            </div>
        </form>
            
            <h1>Rating:</h1>
            <h2 id="finalRating"></h2>
        </div>
        
    </body>
</html>
